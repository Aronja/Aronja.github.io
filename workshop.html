<!DOCTYPE html>
<html lang="en">
    <head>
 
        <title>Stoic Coder</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    
    </head>
    <body>


      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="./index.html">Home</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                  <a class="nav-link" href="./workshop.html">Workshop instructions</a>
                </li>
              <li class="nav-item">
                <a class="nav-link" href="./mission.html">Mission</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./upcoming.html">Upcoming Workshops</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./sponsors.html">Sponsors</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About me</a>
              </li>
            </ul>
          </div>
        </nav>
          <div class="container">
            <h2>
                Raspberry Pi Workshop
              </h2>
          </div>
          <div class="container">
            <h3>
                Step by Step instructions
              </h3>
              <br></br>
          </div>
          <div id="accordion">
            <div class="card">
              <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                  <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Installing the OS
                  </button>
                </h5>
              </div>
     
              <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                  To install Raspberian follow use instructions on <a href="https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up/2">the Rasperry Pi Foundation website</a>.
                  <br>
                  <img src="images/Rasperian.png" alt="How to install Raspberian" style="max-width: 30%;">
  
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header" id="headingTwo">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Setting up Wifi and SSH
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">
                  If you click on <code>CMD + SHIFT + x</code> while running the Raspberry Installer it opens a menu with allows you to set up ssh and wifi in GUI.
                  <br></br>
                  After the OS is installed, slot the sd card into the raspberry pi and start it up. You should see a red LED and a yellow LED flash up.
                  Within about 5 min your raspberry pi should have connected to the WIFI.
                  <br></br>
                  There are several ways of checking your pi has connected. <a href="https://www.fing.com/products/fing-app">Fing</a> is a useful and user friendly app, 
                  which you can download on your phone to check all the pis that are connected to the WIFI. Make sure you see your Raspberry Pi (with the right name) show up.
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Connect to your Raspberry Pi using SSH
                  </button>
                </h5>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                <div class="card-body">
                  Make sure your Raspberry Pi has ssh enabled and is connected to the wifi.
                  Now you can use ssh to connect to your pi from your personal computer.

                  For example: check your Pis IP address on Fing.

                  Then connect by typing:

                  <br></br>
                  <code>
                    ssh pi@raspberrypi.192.168.1.124
                  </code>
                  <br></br>

                  This command will prompt you for a password. I will provide this for you.
                </div>
              </div>
            <div class="card">
                <div class="card-header" id="headingFour">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
                      Installing pip3 and gpioZero
                    </button>
                  </h5>
                </div>
                <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
                  <div class="card-body">
                    Pip3 is a package manager which allows you to install various python libraries. 
                    Open the terminal pip3 should already be preinstalled on your pi.
                    You can check by running: 
                    <br></br>
                    <code>pip3 --version</code>
                    <br></br>
                    You should see an output similar to this:
                    <br></br>
                    <code>pip 22.0.4 from /usr/local/lib/python3.9/site-packages/pip (python 3.9)</code>
                    <br></br>
                    Now use pip3 to install gpioZero using pip3.

                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingFive">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseThree">
                      understanding Raspberry Pi pins
                    </button>
                  </h5>
                </div>
                <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordion">
                  <div class="card-body">
                    The <a href="https://gpiozero.readthedocs.io/en/stable/recipes.html">gpioZero library docs</a> contain a great diagramme and explanation of the pins on a Raspberry Pi. 
                    We will make use of these pin to start and stop the pump to water the plant.
                    You will notice in the diagramme below that there are 3 different types of pins: Power pins (3V or 5V), pins for grounding (Ground), 
                    and GPIO pins. We will make use of all three types. 

                    The <a href="https://gpiozero.readthedocs.io/en/stable/recipes.html">gpioZero library docs</a> explain how to activate an LED, which is attached to GPIO17. 
                    Check if you can locate the right pin on your Raspberry Pi. We will be using this same concept in our next step to write a script to activate the pump.
                    <br></br>
                    <img src="images/pin_layout.svg" alt="Pin Layout" style="max-width: 50%;">
                    <br></br>
                    source: gpiozero documentation
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingSix">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseSix" aria-expanded="false" aria-controls="collapseThree">
                      write your script to activate the pump
                    </button>
                  </h5>
                </div>
                <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#accordion">
                  <div class="card-body">
                    We will be writing this script in Python3, a versatile programming language, which is already pre-installed on your Raspberry Pi.
                    In your Raspberry's terminal create a new file by typing the command:

                    <br></br>
                    <code>touch pump.py</code>
                    <br></br>

                    Now let's open the file, we've created and start writing some code.
                    You can use the editor vim to open and write to the file.

                    <br></br>
                    <code>sudo vim pump.py</code>
                    <br></br>

                    Now type "i" to start vim's writing mode

                    <br></br>
                    inside vim type:
                    <code>i</code>
                    <br></br>

                    We want to make use of the gpioZero library, so the first thing is to import the library.
                    At the top of your file type: 

                    <br></br>
                    <code>import RPi.GPIO as GPIO</code>
                    <br></br>

                    We want to activate the pump, but only leave it turned on for a second to make sure we aren't overwatering. 
                    In order to do this we'll need to import time.

                    <br></br>
                    <code>import time</code>
                    <br></br>
                    
                    Now we're set up with our imports.
                    Next, we'll need to choose and setup a pin to use.

                    <br></br>
                    <code>GPIO.setmode(GPIO.BCM)</code>
                    <code>GPIO.setup(17, GPIO.OUT)</code>
                    <br></br>

                    Now let's increase the voltage on our GPIO 17 pin to activate the pump:

                    <br></br>
                    <code>GPIO.output(17, GPIO.HIGH)</code>
                    <br></br>
                    
                    Let's keep the pump on for one second to sufficiently water the plant. We can do this by freezing time for a moment.

                    <br></br>
                    <code>time.sleep(2)</code>
                    <br></br>

                    Finally let's turn off the pump by decreasing the voltage and cleanup.

                    <br></br>
                    <code>GPIO.output(17, GPIO.HIGH))</code>
                    <code>GPIO.cleanup()</code>
                    <br></br>

                    Please find the full script here.
                    Well done! The only thing left to do is closing vim (which even some experienced Software Engineers find challenging ;) )
                    In order to close vim type: first Esc, then : (colon) followed by wq and press enter.
                    
                    <br></br>
                    <code>ESC : wq ENTER</code>
                    <br></br>

                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingSeven">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="false" aria-controls="collapseThree">
                      Connect your relay, pump and battery to the raspberry pi
                    </button>
                  </h5>
                </div>
                <div id="collapseSeven" class="collapse" aria-labelledby="headingSeven" data-parent="#accordion">
                  <div class="card-body">
                    Great Work! You've writing a python script to control the pump. Now let's use it. 

                    First locate a 5V Power pin, a Ground pin and GPIO 17 on your Raspberry pi. 
                    Now plug 3 female to female jumpers on these pins (ideally use different colours to avoid confusion).
                  </div>
                </div>
              </div>
          </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    </body>
    
</html>